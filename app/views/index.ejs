<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cuộc thi lập trinh robot 2024</title>
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/css/common.css" />
  </head>
  <body>
    <div id="title">
      <div class="logo-box">
        <div class="logo">
          <img src="/images/logo_PTIT.png" />
        </div>
        <div class="logo">
          <img src="/images/logokhoadt.png" />
        </div>
      </div>
      <div class="text-title">
        <h1>Vòng sơ loại cuộc thi lập trình robot 2024</h1>
        <p>Khoa kỹ thuật Điện tử I</p>
      </div>
    </div>
    <div class="content">
      <div class="team" id="team-1">
        <div class="gate-container">
          <span class="gate">
            <p>Cổng 1</p>
          </span>
        </div>
        <div class="score-container">
          <div class="avatar">
            <img src="/images/logo-team/1.jpg" id="avatar-team-1" />
            <button id="name-team-1">Đội Bla bla</button>
            <div class="dropdown" id="select-team-1">
              <button>Đội 1</button>
              <button>Đội 2</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
            </div>
          </div>
          <div class="score">
            <button id="score-1-1">00:00</button>
            <button id="score-1-2">00:00</button>
            <button id="score-1-3">00:00</button>
          </div>
        </div>
      </div>
      <div class="team" id="team-2">
        <div class="gate-container">
          <span class="gate">
            <p>Cổng 2</p>
          </span>
        </div>
        <div class="score-container">
          <div class="score">
            <button id="score-2-1">00:00</button>
            <button id="score-2-2">00:00</button>
            <button id="score-2-3">00:00</button>
          </div>
          <div class="avatar">
            <img src="/images/logo-team/1.jpg" id="avatar-team-2" />
            <button id="name-team-2">Đội Bla bla</button>
            <div class="dropdown" id="select-team-2">
              <button>Đội 1</button>
              <button>Đội 2</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
              <button>Đội 3</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    // HANDLE UI
    // HANDLE FUNCTION
    function getTimeNow() {
      return Date.now();
    }
    // Tạo kết nối WebSocket
    const ws = new WebSocket("ws://localhost:9088");

    // Khi kết nối thành công
    ws.onopen = function (event) {
      console.log("Connected to WebSocket server");
    };

    // Khi nhận được dữ liệu từ WebSocket
    ws.onmessage = function (event) {
      const data = JSON.parse(event.data);
      console.log(data);
      displayMessage(data);
    };

    // Hiển thị dữ liệu nhận được từ WebSocket
    function displayMessage(data) {
      const messagesDiv = document.getElementById("messages");
      const messageElement = document.createElement("div");
      messageElement.textContent = `ID: ${data.id}, Status: ${data.status}`;
      messagesDiv.appendChild(messageElement);
    }
  </script>
</html>
